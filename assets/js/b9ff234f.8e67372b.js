"use strict";(self.webpackChunkgw_2_pathing_wiki=self.webpackChunkgw_2_pathing_wiki||[]).push([[9327],{7745:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=i(4848),n=i(8453);const o={id:"using-the-api",title:"Using Globals and Types",hide_table_of_contents:!0},a=void 0,s={id:"lua-scripting/lua-tutorials/using-the-api",title:"Using Globals and Types",description:"Globals and Types are the other two main components of the API. You've actually already used a global with Debug:Print() but I recommend you take some time now to go read through their sections of the overview to get an idea of what they are and how they're used.",source:"@site/docs/lua-scripting/lua-tutorials/using-the-api.mdx",sourceDirName:"lua-scripting/lua-tutorials",slug:"/lua-scripting/lua-tutorials/using-the-api",permalink:"/docs/lua-scripting/lua-tutorials/using-the-api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"using-the-api",title:"Using Globals and Types",hide_table_of_contents:!0},sidebar:"marker-dev-sidebar",previous:{title:"Exploring Script Attributes",permalink:"/docs/lua-scripting/lua-tutorials/exploring-attributes"},next:{title:"Creating a Marker",permalink:"/docs/lua-scripting/lua-tutorials/creating-a-marker"}},l={},u=[];function c(e){const t={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/lua-scripting/lua-lib/api_intro#globals",children:"Globals"})," and ",(0,r.jsx)(t.a,{href:"/docs/lua-scripting/lua-lib/api_intro#globals",children:"Types"})," are the other two main components of the API. You've actually already used a global with ",(0,r.jsx)(t.code,{children:"Debug:Print()"})," but I recommend you take some time now to go read through their sections of the overview to get an idea of what they are and how they're used."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.p,{children:"Now that you're a bit more familiar with the API, let's pick up where we left off with the last example and add some more functionality to our script."}),"\n",(0,r.jsxs)(t.p,{children:["Referencing the ",(0,r.jsx)(t.a,{href:"/docs/lua-scripting/lua-lib/marker",children:"Marker"})," type, we can use the marker that's passed to us by ",(0,r.jsx)(t.code,{children:"script-trigger"})," to get some more info about the marker or change its properties. For now, lets try printing the position of the marker and then moving it up."]}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsxs)(t.p,{children:["The dot accessor ",(0,r.jsx)(t.code,{children:"."})," is used to access the fields, while a colon ",(0,r.jsx)(t.code,{children:":"})," is used to call functions on it. For example, ",(0,r.jsx)(t.code,{children:"marker.Position"})," will give us the position of the marker and ",(0,r.jsx)(t.code,{children:"marker:SetPos(x,y,z)"})," will let use change the position of a marker."]})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-lua",metastring:'title="/Data/ExamplePack/Scripts/TriggerFunction.lua"',children:'function EP_TriggerFunction(marker, isAutoTrigger, customInput)\n    if isAutoTrigger then\n        -- highlight-start\n        Debug:Print("Auto trigger activated! Marker position - X: " ..  marker.Position.X .. " Y: " .. marker.Position.Y .. " Z: " .. marker.Position.Z)\n        marker:SetPos(marker.Position.X, marker.Position.Y + 20, marker.Position.Z)\n        -- highlight-end\n    else\n        -- We\'ll move the marker up more if it\'s a manual trigger to show a difference\n        -- highlight-start\n        Debug:Print("Manual trigger activated! Marker position - X: " ..  marker.Position.X .. " Y: " .. marker.Position.Y .. " Z: " .. marker.Position.Z)\n        marker:SetPos(marker.Position.X, marker.Position.Y + 50, marker.Position.Z)\n        -- highlight-end\n    end\nend\n'})}),"\n",(0,r.jsx)(t.p,{children:"Now when you trigger the marker, it should jump up by 20 units if it's an auto trigger and 50 units if it's a manual trigger. Try it out!"})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>s});var r=i(6540);const n={},o=r.createContext(n);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);